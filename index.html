<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>mocker-api</title>
	<meta name="description" content="Documentation for mocker-api">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">mocker-api</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>mocker-api</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p align="center">
					<a href="https://uiwjs.github.io/npm-unpkg/#/pkg/mocker-api/file/README.md">
						<img alt="Mocker API LOGO" src="https://user-images.githubusercontent.com/1680273/105883915-5845a780-6042-11eb-8eee-614ba512a74a.png">
					</a>
				</p>
				<p align="center">
					<a href="https://github.com/jaywcjlove/mocker-api/actions">
						<img alt="Build & Deploy" src="https://github.com/jaywcjlove/mocker-api/workflows/Build%20and%20Deploy/badge.svg">
					</a>
					<a href="https://github.com/jaywcjlove/mocker-api/issues">
						<img alt="Issues" src="https://img.shields.io/github/issues/jaywcjlove/mocker-api.svg">
					</a>
					<a href="https://github.com/jaywcjlove/mocker-api/network">
						<img alt="Forks" src="https://img.shields.io/github/forks/jaywcjlove/mocker-api.svg">
					</a>
					<a href="https://github.com/jaywcjlove/mocker-api/stargazers">
						<img alt="Stars" src="https://img.shields.io/github/stars/jaywcjlove/mocker-api.svg">
					</a>
					<a href="https://uiwjs.github.io/npm-unpkg/#/pkg/mocker-api/file/README.md">
						<img src="https://img.shields.io/badge/Open%20in-unpkg-blue" alt="Open in unpkg">
					</a>
					<a href="https://gitee.com/jaywcjlove/mocker-api">
						<img alt="Release" src="https://jaywcjlove.github.io/sb/ico/gitee.svg">
					</a>
					<a href="https://www.npmjs.com/package/mocker-api">
						<img alt="npm version" src="https://img.shields.io/npm/v/mocker-api.svg">
					</a>
				</p>
				<p align="center">
					<a href="https://github.com/jaywcjlove/mocker-api/blob/master/README-zh.md">‰∏≠Êñá</a> ¬∑
					<a href="#quick-start">Quick Start</a> ¬∑
					<a href="#usage">Usage</a> ¬∑
					<a href="#options">Options</a> ¬∑
					<a href="#delayed-response">Delayed</a> ¬∑
					<a href="#example">Example</a> ¬∑
					<a href="#license">License</a>
				</p>
				<p><code>mocker-api</code> that creates mocks for REST APIs. It will be helpful when you try to test your application without the actual REST API server.</p>
				<p><strong>Features:</strong>  </p>
				<p>üî• Built in support for hot Mocker file replacement.<br>üöÄ Quickly and easily configure the API via JSON.<br>üå± Mock API proxying made simple.<br>üí• Can be used independently without relying on <a href="https://github.com/webpack/webpack">webpack</a> and <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a>.</p>
				<a href="#quick-start" id="quick-start" style="color: inherit; text-decoration: none;">
					<h2>Quick Start</h2>
				</a>
				<pre><code class="language-bash"><span style="color: #000000">mkdir mocker-app &amp;&amp; </span><span style="color: #795E26">cd</span><span style="color: #000000"> mocker-app</span>

<span style="color: #008000"># Create a mocker configuration file based on rules</span>
<span style="color: #000000">touch api.js</span>

<span style="color: #008000"># Global install dependent.</span>
<span style="color: #000000">npm install mocker-api -g</span>

<span style="color: #008000"># Default port: 3721</span>
<span style="color: #000000">mocker ./api.js</span>

<span style="color: #008000"># Designated port</span>
<span style="color: #008000"># Run server at localhost:8000</span>
<span style="color: #000000">mocker ./api.js --host localhost --port 8000</span>
</code></pre>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>you can put it the <code>package.json</code> config as a current project dependency.</p>
				<pre><code class="language-bash"><span style="color: #000000">npm install mocker-api --save-dev</span>
</code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p><code>mocker-api</code> dev support mock, configured in <code>mocker/index.js</code>.</p>
				<p>you can modify the <a href="https://www.npmjs.com/package/http-proxy">http-proxy</a> options and add the event listeners by adding the httpProxy configuration</p>
				<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">proxy</span><span style="color: #000000"> = {</span>
<span style="color: #000000">  </span><span style="color: #008000">// Priority processing.</span>
<span style="color: #000000">  </span><span style="color: #008000">// apiMocker(app, path, option)</span>
<span style="color: #000000">  </span><span style="color: #008000">// This is the option parameter setting for apiMocker</span>
<span style="color: #000000">  </span><span style="color: #001080">_proxy:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">proxy:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #008000">// Turn a path string such as `/user/:name` into a regular expression.</span>
<span style="color: #000000">      </span><span style="color: #008000">// https://www.npmjs.com/package/path-to-regexp</span>
<span style="color: #000000">      </span><span style="color: #A31515">&#039;/repos/(.*)&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;https://api.github.com/&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #A31515">&#039;/:owner/:repo/raw/:ref/(.*)&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;http://127.0.0.1:2018&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #A31515">&#039;/api/repos/(.*)&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;http://127.0.0.1:3721/&#039;</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">    </span><span style="color: #008000">// rewrite target&#039;s url path. Object-keys will be used as RegExp to match paths.</span>
<span style="color: #000000">    </span><span style="color: #008000">// https://github.com/jaywcjlove/mocker-api/issues/62</span>
<span style="color: #000000">    </span><span style="color: #001080">pathRewrite:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #A31515">&#039;^/api/repos/&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;/repos/&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    },</span>
<span style="color: #000000">    </span><span style="color: #001080">changeHost:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #008000">// modify the http-proxy options</span>
<span style="color: #000000">    </span><span style="color: #001080">httpProxy:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #001080">options:</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #001080">ignorePath:</span><span style="color: #000000"> </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span>
<span style="color: #000000">      },</span>
<span style="color: #000000">      </span><span style="color: #001080">listeners:</span><span style="color: #000000"> {</span>
<span style="color: #000000">        </span><span style="color: #795E26">proxyReq</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> (</span><span style="color: #001080">proxyReq</span><span style="color: #000000">, </span><span style="color: #001080">req</span><span style="color: #000000">, </span><span style="color: #001080">res</span><span style="color: #000000">, </span><span style="color: #001080">options</span><span style="color: #000000">) {</span>
<span style="color: #000000">          </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;proxyReq&#039;</span><span style="color: #000000">);</span>
<span style="color: #000000">        },</span>
<span style="color: #000000">      },</span>
<span style="color: #000000">    },    </span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #008000">// =====================</span>
<span style="color: #000000">  </span><span style="color: #008000">// The default GET request.</span>
<span style="color: #000000">  </span><span style="color: #008000">// https://github.com/jaywcjlove/mocker-api/pull/63</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;/api/user&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;kenny&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">sex:</span><span style="color: #000000"> </span><span style="color: #098658">6</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;GET /api/user&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;kenny&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">sex:</span><span style="color: #000000"> </span><span style="color: #098658">6</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;GET /api/user/list&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> [</span>
<span style="color: #000000">    {</span>
<span style="color: #000000">      </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;kenny&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">sex:</span><span style="color: #000000"> </span><span style="color: #098658">6</span>
<span style="color: #000000">    }, {</span>
<span style="color: #000000">      </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">2</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;kenny&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">sex:</span><span style="color: #000000"> </span><span style="color: #098658">6</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  ],</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;GET /api/:owner/:repo/raw/:ref/(.*)&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> (</span><span style="color: #001080">req</span><span style="color: #000000">, </span><span style="color: #001080">res</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">owner</span><span style="color: #000000">, </span><span style="color: #0070C1">repo</span><span style="color: #000000">, </span><span style="color: #0070C1">ref</span><span style="color: #000000"> } = </span><span style="color: #001080">req</span><span style="color: #000000">.</span><span style="color: #001080">params</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// http://localhost:8081/api/admin/webpack-mock-api/raw/master/add/ddd.md</span>
<span style="color: #000000">    </span><span style="color: #008000">// owner =&gt; admin</span>
<span style="color: #000000">    </span><span style="color: #008000">// repo =&gt; webpack-mock-api</span>
<span style="color: #000000">    </span><span style="color: #008000">// ref =&gt; master</span>
<span style="color: #000000">    </span><span style="color: #008000">// req.params[0] =&gt; add/ddd.md</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">res</span><span style="color: #000000">.</span><span style="color: #795E26">json</span><span style="color: #000000">({</span>
<span style="color: #000000">      </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">owner</span><span style="color: #000000">, </span><span style="color: #001080">repo</span><span style="color: #000000">, </span><span style="color: #001080">ref</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">path:</span><span style="color: #000000"> </span><span style="color: #001080">req</span><span style="color: #000000">.</span><span style="color: #001080">params</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">]</span>
<span style="color: #000000">    });</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;POST /api/login/account&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> (</span><span style="color: #001080">req</span><span style="color: #000000">, </span><span style="color: #001080">res</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">password</span><span style="color: #000000">, </span><span style="color: #0070C1">username</span><span style="color: #000000"> } = </span><span style="color: #001080">req</span><span style="color: #000000">.</span><span style="color: #001080">body</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">password</span><span style="color: #000000"> === </span><span style="color: #A31515">&#039;888888&#039;</span><span style="color: #000000"> &amp;&amp; </span><span style="color: #001080">username</span><span style="color: #000000"> === </span><span style="color: #A31515">&#039;admin&#039;</span><span style="color: #000000">) {</span>
<span style="color: #000000">      </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">res</span><span style="color: #000000">.</span><span style="color: #795E26">json</span><span style="color: #000000">({</span>
<span style="color: #000000">        </span><span style="color: #001080">status:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;ok&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">code:</span><span style="color: #000000"> </span><span style="color: #098658">0</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">token:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;sdfsdfsdfdsf&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">data:</span><span style="color: #000000"> {</span>
<span style="color: #000000">          </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">          </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;kenny&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">          </span><span style="color: #001080">sex:</span><span style="color: #000000"> </span><span style="color: #098658">6</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">      });</span>
<span style="color: #000000">    } </span><span style="color: #AF00DB">else</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">res</span><span style="color: #000000">.</span><span style="color: #795E26">status</span><span style="color: #000000">(</span><span style="color: #098658">403</span><span style="color: #000000">).</span><span style="color: #795E26">json</span><span style="color: #000000">({</span>
<span style="color: #000000">        </span><span style="color: #001080">status:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;error&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">code:</span><span style="color: #000000"> </span><span style="color: #098658">403</span>
<span style="color: #000000">      });</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;DELETE /api/user/:id&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> (</span><span style="color: #001080">req</span><span style="color: #000000">, </span><span style="color: #001080">res</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;----&gt;&#039;</span><span style="color: #000000">, </span><span style="color: #001080">req</span><span style="color: #000000">.</span><span style="color: #001080">body</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;----&gt;&#039;</span><span style="color: #000000">, </span><span style="color: #001080">req</span><span style="color: #000000">.</span><span style="color: #001080">params</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">)</span>
<span style="color: #000000">    </span><span style="color: #001080">res</span><span style="color: #000000">.</span><span style="color: #795E26">send</span><span style="color: #000000">({ </span><span style="color: #001080">status:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;ok&#039;</span><span style="color: #000000">, </span><span style="color: #001080">message:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;Âà†Èô§ÊàêÂäüÔºÅ&#039;</span><span style="color: #000000"> });</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
<span style="color: #267F99">module</span><span style="color: #000000">.</span><span style="color: #267F99">exports</span><span style="color: #000000"> = </span><span style="color: #001080">proxy</span><span style="color: #000000">;</span>
</code></pre>
				<a href="#options" id="options" style="color: inherit; text-decoration: none;">
					<h2>Options</h2>
				</a>
				<ul>
					<li><a href="https://www.npmjs.com/package/path-to-regexp"><code>proxy</code></a> =&gt; <code>{}</code> Proxy settings, Turn a path string such as <code>/user/:name</code> into a regular expression.</li>
					<li><a href="https://github.com/jaywcjlove/mocker-api/issues/62"><code>pathRewrite</code></a> =&gt; <code>{}</code> rewrite target&#39;s url path. Object-keys will be used as RegExp to match paths. <a href="https://github.com/jaywcjlove/mocker-api/issues/62">#62</a></li>
					<li><code>withFullUrlPath=false</code> =&gt; <code>Boolean</code> the proxy regular expression support full url path. if the proxy regular expression like <code>/test?a=1&amp;b=1</code> can be matched. <a href="https://github.com/jaywcjlove/mocker-api/issues/25">#25</a></li>
					<li><code>priority</code> =&gt; <code>proxy</code> priority <code>proxy</code> or <code>mocker</code> <a href="https://github.com/jaywcjlove/mocker-api/issues/151">#151</a></li>
					<li><code>changeHost</code> =&gt; <code>Boolean</code> Setting req headers host.</li>
					<li><code>httpProxy</code> =&gt; <code>{}</code> Set the <a href="https://github.com/nodejitsu/node-http-proxy#listening-for-proxy-events">listen event</a> and <a href="https://github.com/nodejitsu/node-http-proxy#options">configuration</a> of <a href="https://github.com/nodejitsu/node-http-proxy">http-proxy</a>    </li>
					<li><a href="https://github.com/expressjs/body-parser/tree/56a2b73c26b2238bc3050ad90af9ab9c62f4eb97#bodyparserjsonoptions"><code>bodyParserJSON</code></a> JSON body parser</li>
					<li><a href="https://github.com/expressjs/body-parser/tree/56a2b73c26b2238bc3050ad90af9ab9c62f4eb97#bodyparsertextoptions"><code>bodyParserText</code></a> Text body parser</li>
					<li><a href="https://github.com/expressjs/body-parser/tree/56a2b73c26b2238bc3050ad90af9ab9c62f4eb97#bodyparserrawoptions"><code>bodyParserRaw</code></a> Raw body parser</li>
					<li><a href="https://github.com/expressjs/body-parser/tree/56a2b73c26b2238bc3050ad90af9ab9c62f4eb97#bodyparserurlencodedoptions"><code>bodyParserUrlencoded</code></a> URL-encoded form body parser</li>
					<li><code>bodyParserConf</code> =&gt; <code>{}</code> bodyParser settings. egÔºö <code>bodyParserConf : {&#39;text/plain&#39;: &#39;text&#39;,&#39;text/html&#39;: &#39;text&#39;}</code> will parsed <code>Content-Type=&#39;text/plain&#39; and Content-Type=&#39;text/html&#39;</code> with <code>bodyParser.text</code>  </li>
					<li><a href="https://github.com/paulmillr/chokidar#api"><code>watchOptions</code></a> =&gt; <code>object</code> Options object as defined <a href="https://github.com/paulmillr/chokidar#api">chokidar api options</a></li>
					<li><code>header</code> =&gt; <code>{}</code> Access Control Allow options.<pre><code class="language-js"><span style="color: #000000">{</span>
<span style="color: #000000">  header: {</span>
<span style="color: #000000">    </span><span style="color: #A31515">&#039;Access-Control-Allow-Methods&#039;</span><span style="color: #000000">: </span><span style="color: #A31515">&#039;POST, GET, OPTIONS, PUT, DELETE&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
					</li>
				</ul>
				<p>‚ö†Ô∏è No wildcard asterisk <del><code>*</code></del> - use parameters instead <code>(.*)</code>, support <code>v1.7.3+</code></p>
				<a href="#delayed-response" id="delayed-response" style="color: inherit; text-decoration: none;">
					<h2>Delayed Response</h2>
				</a>
				<p>You can use functional tool to enhance mock. <a href="https://github.com/jaywcjlove/webpack-api-mocker/issues/17">#17</a></p>
				<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">delay</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;mocker-api/lib/delay&#039;</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">noProxy</span><span style="color: #000000"> = </span><span style="color: #001080">process</span><span style="color: #000000">.</span><span style="color: #001080">env</span><span style="color: #000000">.</span><span style="color: #0070C1">NO_PROXY</span><span style="color: #000000"> === </span><span style="color: #A31515">&#039;true&#039;</span><span style="color: #000000">;</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">proxy</span><span style="color: #000000"> = {</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;GET /api/user&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">username:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;kenny&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">sex:</span><span style="color: #000000"> </span><span style="color: #098658">6</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  </span><span style="color: #008000">// ...</span>
<span style="color: #000000">}</span>
<span style="color: #267F99">module</span><span style="color: #000000">.</span><span style="color: #267F99">exports</span><span style="color: #000000"> = (</span><span style="color: #001080">noProxy</span><span style="color: #000000"> ? {} : </span><span style="color: #795E26">delay</span><span style="color: #000000">(</span><span style="color: #001080">proxy</span><span style="color: #000000">, </span><span style="color: #098658">1000</span><span style="color: #000000">));</span>
</code></pre>
				<a href="#apimocker" id="apimocker" style="color: inherit; text-decoration: none;">
					<h2>apiMocker</h2>
				</a>
				<pre><code class="language-js"><span style="color: #795E26">apiMocker</span><span style="color: #000000">(</span><span style="color: #001080">app</span><span style="color: #000000">, </span><span style="color: #001080">mockerFilePath</span><span style="color: #000000">[, </span><span style="color: #001080">options</span><span style="color: #000000">])</span>
<span style="color: #795E26">apiMocker</span><span style="color: #000000">(</span><span style="color: #001080">app</span><span style="color: #000000">, </span><span style="color: #001080">Mocker</span><span style="color: #000000">[, </span><span style="color: #001080">options</span><span style="color: #000000">])</span>
</code></pre>
				<p>Multi entry <code>mocker</code> file watching</p>
				<pre><code class="language-js"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">apiMocker</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;mocker-api&#039;</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">mockerFile</span><span style="color: #000000"> = [</span><span style="color: #A31515">&#039;./mock/index.js&#039;</span><span style="color: #000000">];</span>
<span style="color: #008000">// or</span>
<span style="color: #008000">// const mockerFile = &#039;./mock/index.js&#039;;</span>
<span style="color: #795E26">apiMocker</span><span style="color: #000000">(</span><span style="color: #001080">app</span><span style="color: #000000">, </span><span style="color: #001080">mockerFile</span><span style="color: #000000">, </span><span style="color: #001080">options</span><span style="color: #000000">)</span>
</code></pre>
				<a href="#example" id="example" style="color: inherit; text-decoration: none;">
					<h2>Example</h2>
				</a>
				<a href="#using-with-command" id="using-with-command" style="color: inherit; text-decoration: none;">
					<h3>Using With Command</h3>
				</a>
				<p><a href="example/base">Base example</a></p>
				<blockquote>
					<p>‚ö†Ô∏è  Not dependent on <a href="https://github.com/webpack/webpack">webpack</a> and <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a>. </p>
				</blockquote>
				<pre><code class="language-bash"><span style="color: #008000"># Global install dependent.</span>
<span style="color: #000000">npm install mocker-api -g</span>
<span style="color: #008000"># Run server</span>
<span style="color: #000000">mocker ./mocker/index.js</span>
</code></pre>
				<p>Or you can put it the <code>package.json</code> config as a current project dependency.</p>
				<pre><code class="language-diff"><span style="color: #000000">{</span>
<span style="color: #000000">  &quot;name&quot;: &quot;base-example&quot;,</span>
<span style="color: #000000">  &quot;scripts&quot;: {</span>
<span style="color: #098658">+    &quot;api&quot;: &quot;mocker ./mocker&quot;</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  &quot;devDependencies&quot;: {</span>
<span style="color: #098658">+    &quot;mocker-api&quot;: &quot;2.9.0&quot;</span>
<span style="color: #000000">  },</span>
<span style="color: #098658">+  &quot;mocker&quot;: {</span>
<span style="color: #098658">+    &quot;port&quot;: 7788</span>
<span style="color: #098658">+  },</span>
<span style="color: #000000">  &quot;license&quot;: &quot;MIT&quot;</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#using-with-express" id="using-with-express" style="color: inherit; text-decoration: none;">
					<h3>Using With Express</h3>
				</a>
				<p><a href="example/express">Express example</a></p>
				<p>To use api mocker on your <a href="https://github.com/expressjs/express">express</a> projects.</p>
				<blockquote>
					<p>‚ö†Ô∏è  Not dependent on <a href="https://github.com/webpack/webpack">webpack</a> and <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a>.</p>
				</blockquote>
				<pre><code class="language-diff"><span style="color: #000000">const express = require(&#039;express&#039;);</span>
<span style="color: #098658">+ const path = require(&#039;path&#039;);</span>
<span style="color: #098658">+ const apiMocker = require(&#039;mocker-api&#039;);</span>

<span style="color: #000000">const app = express();</span>

<span style="color: #098658">+ apiMocker(app, path.resolve(&#039;./mocker/index.js&#039;))</span>
<span style="color: #000000">app.listen(8080);</span>
</code></pre>
				<p>or</p>
				<pre><code class="language-diff"><span style="color: #000000">const express = require(&#039;express&#039;);</span>
<span style="color: #098658">+ const apiMocker = require(&#039;mocker-api&#039;);</span>

<span style="color: #000000">const app = express();</span>

<span style="color: #098658">+ apiMocker(app, {</span>
<span style="color: #098658">+   &#039;GET /api/user&#039;: {</span>
<span style="color: #098658">+     id: 1,</span>
<span style="color: #098658">+     sex: 0</span>
<span style="color: #098658">+   }</span>
<span style="color: #098658">+ });</span>

<span style="color: #000000">app.listen(8080);</span>
</code></pre>
				<a href="#using-with-webpack" id="using-with-webpack" style="color: inherit; text-decoration: none;">
					<h3>Using With Webpack</h3>
				</a>
				<p><a href="example/webpack">webpack example</a></p>
				<p>To use api mocker on your <a href="https://github.com/webpack/webpack">Webpack</a> projects, simply add a setup options to your <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> options:</p>
				<p>Change your config file to tell the dev server where to look for files: <code>webpack.config.js</code>.</p>
				<pre><code class="language-diff"><span style="color: #000000">const HtmlWebpackPlugin = require(&#039;html-webpack-plugin&#039;);</span>
<span style="color: #098658">+ const path = require(&#039;path&#039;);</span>
<span style="color: #098658">+ const apiMocker = require(&#039;mocker-api&#039;);</span>

<span style="color: #000000">module.exports = {</span>
<span style="color: #000000">  entry: {</span>
<span style="color: #000000">    app: &#039;./src/index.js&#039;,</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  output: {</span>
<span style="color: #000000">    filename: &#039;[name].bundle.js&#039;,</span>
<span style="color: #000000">    path: path.resolve(__dirname, &#039;dist&#039;)</span>
<span style="color: #000000">  },</span>
<span style="color: #098658">+ devServer: {</span>
<span style="color: #098658">+   ...</span>
<span style="color: #098658">+   before(app){</span>
<span style="color: #098658">+     apiMocker(app, path.resolve(&#039;./mocker/index.js&#039;), {</span>
<span style="color: #098658">+       proxy: {</span>
<span style="color: #098658">+         &#039;/repos/(.*)&#039;: &#039;https://api.github.com/&#039;,</span>
<span style="color: #098658">+         &#039;/:owner/:repo/raw/:ref/(.*)&#039;: &#039;http://127.0.0.1:2018&#039;</span>
<span style="color: #098658">+       },</span>
<span style="color: #098658">+       changeHost: true,</span>
<span style="color: #098658">+     })</span>
<span style="color: #098658">+   }</span>
<span style="color: #098658">+ },</span>
<span style="color: #000000">  plugins: [</span>
<span style="color: #000000">    new HtmlWebpackPlugin({</span>
<span style="color: #000000">      template: path.resolve(&#039;./public/index.html&#039;),</span>
<span style="color: #000000">      title: &#039;Webpack App Mocker API&#039;</span>
<span style="color: #000000">    })</span>
<span style="color: #000000">  ],</span>
<span style="color: #000000">};</span>
</code></pre>
				<p>Must have a file suffix! For example: <code>./mocker/index.js</code>.</p>
				<p>Let&#39;s add a script to easily run the dev server as well: <code>package.json</code></p>
				<pre><code class="language-diff"><span style="color: #000000">{</span>
<span style="color: #000000">  &quot;name&quot;: &quot;development&quot;,</span>
<span style="color: #000000">  &quot;version&quot;: &quot;1.0.0&quot;,</span>
<span style="color: #000000">  &quot;description&quot;: &quot;&quot;,</span>
<span style="color: #000000">  &quot;main&quot;: &quot;webpack.config.js&quot;,</span>
<span style="color: #000000">  &quot;scripts&quot;: {</span>
<span style="color: #000000">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span>
<span style="color: #098658">+    &quot;start&quot;: &quot;webpack serve --progress --mode development&quot;,</span>
<span style="color: #000000">    &quot;build&quot;: &quot;webpack --mode production&quot;</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  &quot;keywords&quot;: [],</span>
<span style="color: #000000">  &quot;author&quot;: &quot;&quot;,</span>
<span style="color: #000000">  &quot;license&quot;: &quot;MIT&quot;,</span>
<span style="color: #000000">  &quot;devDependencies&quot;: {</span>
<span style="color: #000000">    &quot;html-webpack-plugin&quot;: &quot;4.5.0&quot;,</span>
<span style="color: #000000">    &quot;mocker-api&quot;: &quot;2.9.0&quot;,</span>
<span style="color: #000000">    &quot;webpack&quot;: &quot;5.22.0&quot;,</span>
<span style="color: #000000">    &quot;webpack-cli&quot;: &quot;4.5.0&quot;,</span>
<span style="color: #000000">    &quot;webpack-dev-server&quot;: &quot;3.11.2&quot;</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
				<p>Mock API proxying made simple.</p>
				<pre><code class="language-diff"><span style="color: #000000">{</span>
<span style="color: #000000">  before(app){</span>
<span style="color: #098658">+   apiMocker(app, path.resolve(&#039;./mocker/index.js&#039;), {</span>
<span style="color: #098658">+     proxy: {</span>
<span style="color: #098658">+       &#039;/repos/(.*)&#039;: &#039;https://api.github.com/&#039;,</span>
<span style="color: #098658">+     },</span>
<span style="color: #098658">+     changeHost: true,</span>
<span style="color: #098658">+   })</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#using-with-create-react-app" id="using-with-create-react-app" style="color: inherit; text-decoration: none;">
					<h3>Using With create-react-app</h3>
				</a>
				<p><a href="example/create-react-app">create-react-app example</a></p>
				<p>To use api mocker on your <a href="https://github.com/facebook/create-react-app/blob/3f699fd08044de9ab0ce1991a66b376d3e1956a8/docusaurus/docs/proxying-api-requests-in-development.md">create-react-app</a> projects. create <a href="https://github.com/jaywcjlove/mocker-api/blob/64a093685b05c70ab0ddcf3fd5dbede7871efa8a/example/create-react-app/src/setupProxy.js#L1-L11"><code>src/setupProxy.js</code></a> and place the following contents in it:</p>
				<pre><code class="language-diff"><span style="color: #098658">+ const apiMocker = require(&#039;mocker-api&#039;);</span>
<span style="color: #098658">+ const path = require(&#039;path&#039;);</span>

<span style="color: #000000">module.exports = function(app) {</span>
<span style="color: #098658">+  apiMocker(app, path.resolve(&#039;./mocker/index.js&#039;), {</span>
<span style="color: #098658">+    proxy: {</span>
<span style="color: #098658">+      &#039;/repos/(.*)&#039;: &#039;https://api.github.com/&#039;,</span>
<span style="color: #098658">+    },</span>
<span style="color: #098658">+    changeHost: true,</span>
<span style="color: #098658">+  });</span>
<span style="color: #000000">};</span>
</code></pre>
				<pre><code class="language-diff"><span style="color: #000000">{</span>
<span style="color: #000000">  .....</span>
<span style="color: #000000">  &quot;devDependencies&quot;: {</span>
<span style="color: #098658">+    &quot;mocker-api&quot;: &quot;2.9.0&quot;</span>
<span style="color: #000000">  },</span>
<span style="color: #000000">  ....</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#development" id="development" style="color: inherit; text-decoration: none;">
					<h3>Development</h3>
				</a>
				<pre><code class="language-shell"><span style="color: #000000">$ yarn install</span>
<span style="color: #000000">$ yarn run build</span>
<span style="color: #000000">$ yarn run watch</span>
<span style="color: #000000">$ yarn run </span><span style="color: #795E26">test</span>
</code></pre>
				<a href="#license" id="license" style="color: inherit; text-decoration: none;">
					<h2>License</h2>
				</a>
				<p><a href="https://github.com/jaywcjlove/mocker-api/blob/master/LICENSE">MIT ¬© Kenny Wong</a></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/delay.html">delay</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>